{
  "hash": "282bc26f05aed1a14b2d85d1e409e0ec",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take-home Exercise 1\"\nsubtitle: \"Creating data visualisation beyond default\"\nauthor: \"Thet Myat Noe\"\ndate: \"April 16, 2024\"\ndate-modified: \"last-modified\"\nexecute:\n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n![](Corals-at-Keppel-Bay-1024x576.avif)\n\nPhoto: Corals at Keppel Bay\n\n# 1. Overview\n\n### 1.1 Setting the scene\n\nThere are two major residential property market in Singapore, namely public and private housing. Public housing aims to meet the basic need of the general public with monthly household income less than or equal to S\\$14,000. For families with monthly household income more than S\\$14,000, they need to turn to the private residential market.\n\n### 1.2 Task\n\nThis exercise aims to analyse [REALIS](https://www.ura.gov.sg/reis/index) (Real Estate Information System) property data to reveal the private residential market and sub-markets of Singapore for the 1st quarter of 2024.\n\n# 2. Getting Started\n\n### 2.1 Installing and loading the required libraries\n\n| Package                                                                     | Description                                                                                                                                                                                            |\n|--------------------|----------------------------------------------------|\n| [tidyverse](https://www.tidyverse.org/)                                     | Used data import, tidying, manipulation, and data visualization. Packages like readr, dplyr, lubridate are part of tidyverse.                                                                          |\n| [patchwork](https://patchwork.data-imaginist.com/)                          | Used to combine individual ggplot into one graphic.                                                                                                                                                    |\n| [ggthemes](https://cran.r-project.org/web/packages/ggthemes/index.html)     | Provides 'ggplot2' themes and scales that replicate the look of plots by Edward Tufte, Stephen Few, 'Fivethirtyeight', 'The Economist', 'Stata', 'Excel', and 'The Wall Street Journal', among others. |\n| [hrbrthemes](https://cran.r-project.org/web/packages/hrbrthemes/index.html) | A compilation of extra 'ggplot2' themes, scales and utilities, including a spell check function for plot label fields and an overall emphasis on typography.                                           |\n\nThe code chunk below uses `p_load()` function from **pacman** package to check if packages listed are already installed in the computer. The packages are loaded if they are found to be installed. If they are not installed, the function will proceed to install and load them into R environment.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse,patchwork,ggthemes,hrbrthemes)\n```\n:::\n\n\n### 2.2 Importing Data\n\nBelow code imports 5 .csv data from REALIS into R environment by utilizing `read_csv()` function of **readr** package. readr is part of **tidyverse** packages.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis1 <- read_csv(\"data/ResidentialTransaction20240308160536.csv\") #2023 Q1\nrealis2 <- read_csv(\"data/ResidentialTransaction20240308160736.csv\") #2023 Q2\nrealis3 <- read_csv(\"data/ResidentialTransaction20240308161009.csv\") #2023 Q3\nrealis4 <- read_csv(\"data/ResidentialTransaction20240308161109.csv\") #2023 Q4\nrealis5 <- read_csv(\"data/ResidentialTransaction20240414220633.csv\") #2024 Q1\n```\n:::\n\n\n### 2.3 Data Pre-processing\n\n#### 2.3.1 Combining all quarter data into one file\n\nAll residential property market data from REALIS by different quarters are merged into one file using `rbind()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_merge <- rbind(realis1, realis2, realis3, realis4, realis5)\n```\n:::\n\n\n#### 2.3.2 Checking for duplicates\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_merge[duplicated(realis_merge),]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 0 × 21\n# ℹ 21 variables: Project Name <chr>, Transacted Price ($) <dbl>,\n#   Area (SQFT) <dbl>, Unit Price ($ PSF) <dbl>, Sale Date <chr>,\n#   Address <chr>, Type of Sale <chr>, Type of Area <chr>, Area (SQM) <dbl>,\n#   Unit Price ($ PSM) <dbl>, Nett Price($) <chr>, Property Type <chr>,\n#   Number of Units <dbl>, Tenure <chr>, Completion Date <chr>,\n#   Purchaser Address Indicator <chr>, Postal Code <chr>,\n#   Postal District <chr>, Postal Sector <chr>, Planning Region <chr>, …\n```\n\n\n:::\n:::\n\n\nNo duplicated rows are present in the data based on duplicate check above using `duplicated()` function.\n\n#### 2.3.3 Rename columns for further data visualization\n\nBelow glimpse of data set shows the current column name. We can see there are spaces in column name.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(realis_merge)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 26,806\nColumns: 21\n$ `Project Name`                <chr> \"THE REEF AT KING'S DOCK\", \"URBAN TREASU…\n$ `Transacted Price ($)`        <dbl> 2317000, 1823500, 1421112, 1258112, 1280…\n$ `Area (SQFT)`                 <dbl> 882.65, 882.65, 1076.40, 1033.34, 871.88…\n$ `Unit Price ($ PSF)`          <dbl> 2625, 2066, 1320, 1218, 1468, 1767, 1095…\n$ `Sale Date`                   <chr> \"01 Jan 2023\", \"02 Jan 2023\", \"02 Jan 20…\n$ Address                       <chr> \"12 HARBOURFRONT AVENUE #05-32\", \"205 JA…\n$ `Type of Sale`                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New…\n$ `Type of Area`                <chr> \"Strata\", \"Strata\", \"Strata\", \"Strata\", …\n$ `Area (SQM)`                  <dbl> 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 42…\n$ `Unit Price ($ PSM)`          <dbl> 28256, 22238, 14211, 13105, 15802, 19015…\n$ `Nett Price($)`               <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", …\n$ `Property Type`               <chr> \"Condominium\", \"Condominium\", \"Executive…\n$ `Number of Units`             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ Tenure                        <chr> \"99 yrs from 12/01/2021\", \"Freehold\", \"9…\n$ `Completion Date`             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncomplet…\n$ `Purchaser Address Indicator` <chr> \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"…\n$ `Postal Code`                 <chr> \"097996\", \"419535\", \"269343\", \"269294\", …\n$ `Postal District`             <chr> \"04\", \"14\", \"27\", \"27\", \"28\", \"19\", \"10\"…\n$ `Postal Sector`               <chr> \"09\", \"41\", \"26\", \"26\", \"79\", \"54\", \"27\"…\n$ `Planning Region`             <chr> \"Central Region\", \"East Region\", \"North …\n$ `Planning Area`               <chr> \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishu…\n```\n\n\n:::\n:::\n\n\nSpace in column names will create error when used as it is in R code. Hence, replacing them with underscore is necessary. Use `gsub()` to replace space with underscores and use `rename_with()` function from **dplyr** to rename all the columns with new column names.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_merge <- realis_merge %>%\n  rename_with(~ gsub(\" \", \"_\", .), everything())\n```\n:::\n\n\nNow, we can see that column names are renamed accordingly with underscore in place of space.\n\n::: panel-tabset\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(realis_merge)\n```\n:::\n\n\n## Data Glimpse\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 26,806\nColumns: 21\n$ Project_Name                <chr> \"THE REEF AT KING'S DOCK\", \"URBAN TREASURE…\n$ `Transacted_Price_($)`      <dbl> 2317000, 1823500, 1421112, 1258112, 128000…\n$ `Area_(SQFT)`               <dbl> 882.65, 882.65, 1076.40, 1033.34, 871.88, …\n$ `Unit_Price_($_PSF)`        <dbl> 2625, 2066, 1320, 1218, 1468, 1767, 1095, …\n$ Sale_Date                   <chr> \"01 Jan 2023\", \"02 Jan 2023\", \"02 Jan 2023…\n$ Address                     <chr> \"12 HARBOURFRONT AVENUE #05-32\", \"205 JALA…\n$ Type_of_Sale                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New S…\n$ Type_of_Area                <chr> \"Strata\", \"Strata\", \"Strata\", \"Strata\", \"S…\n$ `Area_(SQM)`                <dbl> 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 420.…\n$ `Unit_Price_($_PSM)`        <dbl> 28256, 22238, 14211, 13105, 15802, 19015, …\n$ `Nett_Price($)`             <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-…\n$ Property_Type               <chr> \"Condominium\", \"Condominium\", \"Executive C…\n$ Number_of_Units             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ Tenure                      <chr> \"99 yrs from 12/01/2021\", \"Freehold\", \"99 …\n$ Completion_Date             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncompleted…\n$ Purchaser_Address_Indicator <chr> \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"Pr…\n$ Postal_Code                 <chr> \"097996\", \"419535\", \"269343\", \"269294\", \"7…\n$ Postal_District             <chr> \"04\", \"14\", \"27\", \"27\", \"28\", \"19\", \"10\", …\n$ Postal_Sector               <chr> \"09\", \"41\", \"26\", \"26\", \"79\", \"54\", \"27\", …\n$ Planning_Region             <chr> \"Central Region\", \"East Region\", \"North Re…\n$ Planning_Area               <chr> \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishun\"…\n```\n\n\n:::\n:::\n\n:::\n\n#### 2.3.4 Create Quarter Column\n\nUse `as.Date()` function to put Sale_Date column into date object, specify format to ensure `as.Date()` recognize the content accurately as date. Use `year()` and `quarter()` functions from **lubridate** package to extract year and use `paste()` to concatenate the strings.\n\n::: panel-tabset\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrealis_merge$Sale_Date <- as.Date(realis_merge$Sale_Date, format = \"%d %b %Y\")\nrealis_merge$Quarter <- paste(year(realis_merge$Sale_Date), \"Q\", quarter(realis_merge$Sale_Date), sep=\"\")\n```\n:::\n\n\n## Data Glimpse\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(realis_merge)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 26,806\nColumns: 22\n$ Project_Name                <chr> \"THE REEF AT KING'S DOCK\", \"URBAN TREASURE…\n$ `Transacted_Price_($)`      <dbl> 2317000, 1823500, 1421112, 1258112, 128000…\n$ `Area_(SQFT)`               <dbl> 882.65, 882.65, 1076.40, 1033.34, 871.88, …\n$ `Unit_Price_($_PSF)`        <dbl> 2625, 2066, 1320, 1218, 1468, 1767, 1095, …\n$ Sale_Date                   <date> 2023-01-01, 2023-01-02, 2023-01-02, 2023-…\n$ Address                     <chr> \"12 HARBOURFRONT AVENUE #05-32\", \"205 JALA…\n$ Type_of_Sale                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New S…\n$ Type_of_Area                <chr> \"Strata\", \"Strata\", \"Strata\", \"Strata\", \"S…\n$ `Area_(SQM)`                <dbl> 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 420.…\n$ `Unit_Price_($_PSM)`        <dbl> 28256, 22238, 14211, 13105, 15802, 19015, …\n$ `Nett_Price($)`             <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-…\n$ Property_Type               <chr> \"Condominium\", \"Condominium\", \"Executive C…\n$ Number_of_Units             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ Tenure                      <chr> \"99 yrs from 12/01/2021\", \"Freehold\", \"99 …\n$ Completion_Date             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncompleted…\n$ Purchaser_Address_Indicator <chr> \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"Pr…\n$ Postal_Code                 <chr> \"097996\", \"419535\", \"269343\", \"269294\", \"7…\n$ Postal_District             <chr> \"04\", \"14\", \"27\", \"27\", \"28\", \"19\", \"10\", …\n$ Postal_Sector               <chr> \"09\", \"41\", \"26\", \"26\", \"79\", \"54\", \"27\", …\n$ Planning_Region             <chr> \"Central Region\", \"East Region\", \"North Re…\n$ Planning_Area               <chr> \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishun\"…\n$ Quarter                     <chr> \"2023Q1\", \"2023Q1\", \"2023Q1\", \"2023Q1\", \"2…\n```\n\n\n:::\n:::\n\n:::\n\n# 3. Data Visualization\n\n### 3.1 Data Visualization 1\n\nData manipulation is done by **dplyr** functions. To get Number of Units Sold by Property Type and Quarter, use `group_by()` to group merged REALIS data into by Property Type and Quarter, then use `summarise()` to get data frame containing total number of units sold for each group. `sum()` is used to calculate total number of units sold for each group. To get Overall Number of Units Sold by Quarter, use `group_by()` to group merged REALIS data into by Quarter, then use `summarise()` to calculate the total number of units sold for each quarter.\n\nUse `ggplot()` and `geom_bar()` from **ggplot2** to plot:\n\n-   *Overall Number of Units Sold by Quarter*\n\n-   *Number of Units Sold by Property Type and Quarter*\n\nMore functions from ggplot2 are used: `ylim()` and `labs()` functions from ggplot2 are used to set axis limit and chart title accordingly. Use `theme()` to set text size of chart title, axis text, legend text and legend title. `scale_x_discrete()` and `guide_axis()` are used to avoid overlapping X axis texts. `scale_fill_brewer()` is used to color the bars. Use ggplot2 extension called **patchwork** to combine separate ggplot2 graphs into a single figure. Use `theme_wsj()` from **ggtheme** to set Wall Street Journal theme.\n\n::: panel-tabset\n## Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get number of units sold for each combination of Property_Type and Quarter\ntrans_per_prop_quarter <- realis_merge %>%\n  group_by(Property_Type, Quarter) %>%\n  summarise(Total_Number_of_Units = sum(Number_of_Units, na.rm = TRUE), .groups = 'drop')\n\n# Plot the bar chart for Number of Units Sold by Property Type and Quarter\np1 <- ggplot(trans_per_prop_quarter, aes(x = Property_Type, y = Total_Number_of_Units, fill = Quarter)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(x = \"Property Type\", y = \"No. of Units Sold\", title = \"Number of Units Sold by Property Type and Quarter\")+\n  ylim(0,3200) +\n  theme_wsj()+\n  theme(plot.title = element_text(size = rel(0.4)),  \n        axis.text.x = element_text(size = rel(0.7)),  \n        axis.text.y = element_text(size = rel(0.7)),\n        legend.text = element_text(size = rel(0.7)),\n        legend.title = element_text(size = rel(0.4)))  +\n  scale_x_discrete(guide = guide_axis(n.dodge = 2)) +\n  scale_fill_brewer(palette = \"Blues\")\n\n# Get overall Number of units sold per quarter\nunits_by_quarter <- realis_merge %>%\n  group_by(Quarter) %>%\n  summarise(Total_Units = sum(Number_of_Units, na.rm = TRUE), .groups = 'drop')\n\n# Plot overall Number of units sold trend\np2 <- ggplot(units_by_quarter, aes(x = Quarter, y = Total_Units)) +\n  geom_bar(stat = \"identity\", fill = \"gainsboro\") +  \n  labs(\n    title = \"Overall Number of Units Sold by Quarter\",\n    x = \"Quarter\",\n    y = \"No. of Units Sold\"\n  ) +\n  ylim(0,8000) +\n  geom_text(aes(label = Total_Units),  \n            vjust = -0.3,\n            size = rel(3),\n            color = \"black\") +\n  theme_wsj()+\n  theme(plot.title = element_text(size = rel(0.4)),  \n        axis.text.x = element_text(size = rel(0.7)), \n        axis.text.y = element_text(size = rel(0.7)))  \n\n# Combine the plots into one\np <- (p2/p1) \np \n```\n:::\n\n:::\n\n::: callout-tip\n## Insights from Data Visualization 1:\n\n1.  Number of units sold per quarter shows an upward trend from 2023 Q1 to 2023 Q3 but it has since been on downward trend.\n\n2.  There is slight uptick seen in Q1 2024 in number of units sold compared to Q4 2023.\n\n3.  Based on further breakdown by property type and quarter, apartment, condominium and executive condominium make up majority of sales volume followed by terrace house, semi-detached house and detached house.\n\n4.  In Q1 2024, there is a decline in number of apartment and condo units sold while there is a growth in executive condo units sold compared to Q4 2023.\n:::\n\n### 3.2 Data Visualization 2\n\nTo get Number of Units Sold by Planning Region and Quarter, use `group_by()` to group merged REALIS data into by Planning Region and Quarter, then use `summarise()` to get data frame containing total number of units sold for each group. `sum()` is used to calculate total number of units sold for each group. To get Number of Units Sold by Type of Sale and Quarter, use `group_by()` to group merged REALIS data into by Type of Sale and Quarter, then use `summarise()` to get data frame containing total number of units sold for each group. `sum()` is used to calculate total number of units sold for each group.\n\nUse `ggplot()` and `geom_bar()` from **ggplot2** to plot:\n\n-   *Number of Units Sold by Planning Region and Quarter*\n\n-   *Number of Units Sold by Type of Sale and Quarter*\n\nMore functions from ggplot2 are used: `ylim()` and `labs()` functions from ggplot2 are used to set axis limit and chart title accordingly. Use `theme()` to set text size of chart title, axis text, legend text and legend title. `scale_fill_brewer()` is used to color the bars. Use ggplot2 extension called **patchwork** to combine separate ggplot2 graphs into a single figure. Use `theme_wsj()` from **ggtheme** to set Wall Street Journal theme.\n\n::: panel-tabset\n## Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get number of units sold for each combination of Planning Region and Quarter\ntrans_per_reg_quarter <- realis_merge %>%\n  group_by(Planning_Region, Quarter) %>%\n  summarise(Total_Number_of_Units = sum(Number_of_Units, na.rm = TRUE), .groups = 'drop')\n\n# Plot the bar chart for Number of Units Sold by Planning Region and Quarter\np3 <- ggplot(trans_per_reg_quarter, aes(x = Planning_Region, y = Total_Number_of_Units, fill = Quarter)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(x = \"Planning Region\", y = \"No. of Units Sold\", title = \"Number of Units Sold by Planning Region and Quarter\")+\n  ylim(0,4200) +\n  theme_wsj()+\n  theme(plot.title = element_text(size = rel(0.4)),  \n        axis.text.x = element_text(size = rel(0.7)),  \n        axis.text.y = element_text(size = rel(0.7)),\n        legend.text = element_text(size = rel(0.7)),\n        legend.title = element_text(size = rel(0.4)))  +\n    scale_fill_brewer(palette = \"Blues\")\n\n# Get number of units sold for each combination of Type of Sale and Quarter\ntrans_per_sale_quarter <- realis_merge %>%\n  group_by(Type_of_Sale, Quarter) %>%\n  summarise(Total_Number_of_Units = sum(Number_of_Units, na.rm = TRUE), .groups = 'drop')\n\n# Plot the bar chart for Number of Units Sold by Type of Sale and Quarter\np4 <- ggplot(trans_per_sale_quarter, aes(x = Type_of_Sale, y = Total_Number_of_Units, fill = Quarter)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(x = \"Type of Sale\", y = \"No. of Units Sold\", title = \"Number of Units Sold by Type of Sale and Quarter\")+\n  ylim(0,4200) +\n  theme_wsj()+\n  theme(plot.title = element_text(size = rel(0.4)),  \n        axis.text.x = element_text(size = rel(0.7)),  \n        axis.text.y = element_text(size = rel(0.7)),\n        legend.text = element_text(size = rel(0.7)),\n        legend.title = element_text(size = rel(0.4)))  +\n   scale_fill_brewer(palette = \"Blues\")\n\n# Combine the plots into one\npp <- (p3/p4) \npp\n```\n:::\n\n:::\n\n::: callout-tip\n## Insights from Data Visualization 2\n\n1.  In 2024 Q1, there is decrease in number of unit sold in Central, East and North Regions while an uptick is seen in North East and West Regions.\n\n2.  In terms of type of sale trend, 2024 Q1 Resale and Sub Sale are decreasing while only New sale showed an increasing trend compared to Q4 2023.\n:::\n\n### 3.3 Data Visualization 3\n\nIn this visualization, let's take a look at price trend of the 2 property types with most number of units sold, Apartments and Condominiums. To get condominium and apartment data only, use `filter()` function from **dplyr** to filter from realis_merge data. Median data for each quarter is calculated by grouping data into each quarter using `group_by(),` followed by using `median()` to compute the median value.\n\nUse `ggplot()` and `geom_boxplot()` from **ggplot2** to plot boxplot for\n\n-   *Condominium*\n\n-   *Apartment*\n\nMore functions from ggplot2 are used: `labs()` function is used to set axis limit and chart title accordingly. Use `theme()` to set text size of chart title and axis text. `geom_text()` to add median label to box plot. Use `theme_wsj()` from **ggtheme** to set Wall Street Journal theme.\n\n::: panel-tabset\n## Condominiums\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n## Apartments\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n## Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### Code for Condominium\n# Filter for 'Condominium' in the 'Property_Type' column\ncondo_data <- realis_merge %>%\n  filter(Property_Type == \"Condominium\") \n\n# Calculate median for each Quarter\ncondo_median <- condo_data %>%\n  group_by(Quarter) %>%\n  summarise(median = median(`Unit_Price_($_PSM)`, na.rm = TRUE))\n\n# Create boxplot\nggplot(condo_data, aes(x = Quarter, y = `Unit_Price_($_PSM)`)) + \n  geom_boxplot(fill = \"lightskyblue2\") +\n  geom_text(data = condo_median, aes(x = Quarter, y = median, label = median), \n            vjust = -0.5, size = 3) +\n  labs(\n    title = \"Boxplot of Unit Price ($ PSM) by Quarter for Condominiums\",\n    x = \"Quarter\",\n    y = \"Unit Price ($ PSM)\"\n  ) +\n  theme_wsj() +\n  theme(plot.title = element_text(size = rel(0.4)),  \n        axis.text.x = element_text(size = rel(0.7)), \n        axis.text.y = element_text(size = rel(0.7))) \n```\n\n```{.r .cell-code}\n### Code for Apartment\naprt_data <- realis_merge %>%\n  filter(Property_Type == \"Apartment\") \n\n# Calculate median for each Quarter\naprt_median <- aprt_data %>%\n  group_by(Quarter) %>%\n  summarise(median = median(`Unit_Price_($_PSM)`, na.rm = TRUE))\n\n# Create boxplot\nggplot(aprt_data, aes(x = Quarter, y = `Unit_Price_($_PSM)`)) + \n  geom_boxplot(fill = \"lightskyblue3\") +\n  geom_text(data = aprt_median, aes(x = Quarter, y = median, label = median), \n            vjust = -0.5, size = 3) +\n  labs(\n    title = \"Boxplot of Unit Price ($ PSM) by Quarter for Apartments\",\n    x = \"Quarter\",\n    y = \"Unit Price ($ PSM)\"\n  ) +\n  theme_wsj() +\n  theme(plot.title = element_text(size = rel(0.4)),  \n        axis.text.x = element_text(size = rel(0.7)), \n        axis.text.y = element_text(size = rel(0.7))) \n```\n:::\n\n:::\n\n::: callout-tip\n## Insights from Data Visualization 3\n\n1.  Condominium price (Price per squared meter) trend from 2023 Q1 to 2024 Q1 remains relatively flat within the range of S\\$18125.5 to S\\$18750.\n\n2.  Condominium prices in 2024 Q1 has increased slightly compared to 2023 Q4 from S\\$18125.5 to S\\$18311.\n\n3.  Apartment price (Price per squared meter) trend has shown a downward trend starting from 2023 Q2 to 2023 Q4 although there was an uptrend from 2023 Q1 to 2023 Q2.\n\n4.  Apartment prices in 2024 Q1 has increased slightly compared to 2023 Q4 from S\\$21916.5 to S\\$22768.\n\n5.  Slight increase in Condominium and Apartment prices observed here are in line with what is reported in media for Q1 2024 in [CNA article](https://www.channelnewsasia.com/singapore/hdb-resale-private-home-prices-rise-waiting-period-property-analysts-4233876).\n:::\n\n# 4. Summary and Conclusion\n\nNumber of units sold per quarter shows an upward trend from 2023 Q1 to 2023 Q3 but it has since been on downward trend until slight uptick seen in Q1 2023. Apartment, condominium and executive condominium make up majority of sales volume. Decline in number of apartment and condo (two highest transacted private property types in Singapore) units sale observed for Q1 2024.\n\nIn 2024 Q1, there is decrease in number of unit sold in Central, East and North Regions while an uptick is seen in North East and West Regions. 2024 Q1 Resale and Sub Sale are decreasing while only New sale showed an increasing trend compared to Q4 2023.\n\nIn comparison to Q4 2023, slight increase in Condominium and Apartment prices are observed which aligns with what is reported in media for Q1 2024.\n\n# 5. References\n\n[HDB resale prices rise 1.7%; private home prices up 1.5% in first quarter: Flash estimates](https://www.channelnewsasia.com/singapore/hdb-resale-private-home-prices-rise-waiting-period-property-analysts-4233876)\n\n[Guide to Different Types of Properties in Singapore](https://www.propertyasiadirect.com/blog/guide-different-types-properties-singapore/#:~:text=Private%20properties%20don't%20have,%2C%20Non%2DLanded%20and%20Landed.)\n\n[ggplot2 legend : Easy steps to change the position and the appearance of a graph legend in R software](http://www.sthda.com/english/wiki/ggplot2-legend-easy-steps-to-change-the-position-and-the-appearance-of-a-graph-legend-in-r-software#change-the-legend-title-and-text-font-styles)\n\n[How to alternate a new line for overlapping x axis labels?](https://stackoverflow.com/questions/50399838/how-to-alternate-a-new-line-for-overlapping-x-axis-labels)\n",
    "supporting": [
      "Take-home_Ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}